<!doctype html>
{% load staticfiles %}

<html lang="en">
<head>
   <meta charset="utf-8">

   <title>{{ post.title }} | NomNom Foods</title>
<!--  <meta name="description" content="">-->
<!--  <meta name="author" content="SitePoint">-->
	
    <script src="http://code.jquery.com/jquery.js"></script>

   	<link rel="stylesheet" href="{% static 'blog/reset.css' %}">
   	<link rel="stylesheet" href="{% static 'blog/styles.css' %}">
   	<link rel="stylesheet" href="{% static 'blog/navbar.css' %}">
	<link rel="stylesheet" href="{% static 'blog/animate.css' %}">
	
	<script src="{% static 'blog/jquery.flexslider-min.js' %}" type="text/javascript"></script>
	<link rel="stylesheet" href="{% static 'blog/slider_styles.css' %}">
	
	{% if post.image2 %}
	<script type="text/javascript" charset="utf-8">
		var $ = jQuery.noConflict();
		$(window).load(function() {
		$('.flexslider').flexslider({
			  animation: "fade"
		});

		$(function() {
			$('.show_menu').click(function(){
					$('.menu').fadeIn();
					$('.show_menu').fadeOut();
					$('.hide_menu').fadeIn();
			});
			$('.hide_menu').click(function(){
					$('.menu').fadeOut();
					$('.show_menu').fadeIn();
					$('.hide_menu').fadeOut();
			});
		});
		});
	</script>
	{% endif %}
	
<!--	{% if not post.image3 %}-->

	<script>
	</script>

<!--	{% endif %}-->
	
	<style>
		
		.share {
			width: 580px;
			margin: 0 auto;
		}
		
		.share td * {
			padding: 0 40px
		}
		
		.share td h2 {
			padding: 0px !important
		}
		
		.share #twitter-widget-0 {
			padding-top: 3px
		}
		
		.author {
			width: 700px;
			padding: 40px 20px 0 20px;
		}
		
		.author img {
			padding-right: 20px;
		}
		
		.author h4 {
			text-align: justify !important;
			color: #3997dc;
			padding-bottom: 5px
		}
		
		.author table td {
			vertical-align: middle;
		}
		
		.author p {
			font-size: 15px;
			line-height: 17px;
			text-align: justify;
		}
		
		#post h1 {
			font-family: 'Pacifico', cursive;
			font-size: 30px;
			color: #29ada5;
		}
		
		#post h2 {
			font-family: 'Roboto', sans-serif;
			font-size: 20px;
			font-weight: 700;
			color: black;
			margin: 24px 0;
			padding: 0px !important;
			text-align: left !important;
			margin: 24px 0;
		}
		
		#post h3 {
			font-family: 'Roboto', sans-serif;
			font-size: 18px;
			font-weight: 700;
			color: black;
			margin: 24px 0;
			padding: 0px !important;
		}
		
		#pics {
			width: 100%;
			background-color: #eb6d5c;
			line-height: 0px;
			min-height: 200px;
		}
		
		#pics div {
			display: inline;
		}
		
/*		One Image ----------------------------------------------------------------*/
		
		{% if not post.image2 %}
		
		#pic1 {
			max-width: 1280px;
		}
		
		{% endif %}
		
/*		Two or Three Images ------------------------------------------------------*/

		{% if post.image2 %}
		
		#pic1, #pic2, #pic3 {
			opacity: 0;
		}
		
		{% endif %}
			
		#post p {
			text-align: justify !important;
		}
		
		#post li, #post li * {
			text-align: left;	
		}
		
		#social_media_buttons {
			position: fixed;
			left: 10px;
			top: 50%;
			margin-top: -55px;
		}
		#social_media_buttons img {
			border-radius: 50%;
			margin: 0px 0;
		}
		#social_media_buttons img:hover {
			cursor: pointer;
		}
		#social_media_buttons #fb_circle {
			background-color:#3b5998;
			border: 2px #3b5998 solid;
		}
		#social_media_buttons #twitter_circle {
			background-color:#55acee;
			border: 2px #55acee solid;
		}
		
		#pics div {
/*			display: inline;*/
			width: 100%;
			height: 600px;
			background-size: cover;
			background-position: center;
		}
		.flexslider {
			padding: 0;	
		}
	</style>
	
	<link href='http://fonts.googleapis.com/css?family=Pacifico|Roboto:300,400,400italic,700,900italic' rel='stylesheet' type='text/css'>

  <!--[if lt IE 9]>
  <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
</head>

<body>
	
	<div class="background_teal">
		
		<table class="centered_container navbar">
			<tbody><tr>
				</tr><tr>
					<td class="logo">
						<a href="{% url 'index' %}">
							<img src="{% static 'blog/white_logo.png' %}" id="logo" height="36"><h5 class="cursive">NomNom Foods</h5>
						</a>
					</td>
					<td width="100%"></td>
					<td class="link">
						<a href="{% url 'blog' %}"><p>Blog</p></a>
					</td>
				</tr>
			
		</tbody></table>
	
 	</div>
 	
 	<div class="centered_container vertical_padding" id="title">
 		<h1>{{ post.title }}</h1>
 		<h4>By {{ post.author.name }}</h4>
 	</div>
 	
 	<div id="social_media_buttons">
		<img src="{% static 'blog/contact/fb_circle_button.png' %}" id="fb_circle" height="50">
 		<br>
		<img src="{% static 'blog/contact/twitter_circle_button.png' %}" id="twitter_circle" height="50">
 	</div>
 	
 	<div class="flexslider" id="pics">
 		<ul class="slides">
 			<li>
 				<div style="background-image:url({{ post.image.url }})">
 			</li>
 			{% if post.image2 %}
 			<li>
 				<div style="background-image:url({{ post.image2.url }})">
 			</li>
 			{% endif %}
 			{% if post.image3 %}
 			<li>
 				<div style="background-image:url({{ post.image3.url }})">
 			</li>
 			{% endif %}
 		</ul>
	</div>
 	
<!--
 	<table id="pics">
 		<tr>
 			<td><img id="pic1" src="{{ post.image.url }}"></td>

 			{% if post.image2 %}
 			<td><img id="pic2" src="{{ post.image2.url }}"></td>
 			{% endif %}

 			{% if post.image3 %}
 			<td><img id="pic3" src="{{ post.image3.url }}"></td>
 			{% endif %}

 		</tr>
 	</table>
-->
 	
 	<div class="centered_container vertical_padding horizontal_padding" id="post">

 		<!--Django content starts here-->
 		{{ post.content|safe }}
 		<!--Django content ends here-->
 		
	</div>
		
<!--
	<div class="background_teal">
		<div class="centered_container vertical_padding share">
			<table>
				<tr>
					<td>
						<h2 class="cursive">Share the article!</h2>
					</td>
					<td>
						<div style="padding-bottom:6px" class="fb-share-button" data-layout="button"></div> 
					</td>
					<td>	
						<a class="twitter-share-button"
						  href="https://twitter.com/intent/tweet"
						  data-count="none"
						  data-url="https://dev.twitter.com/web/tweet-button"
						  data-text="Check out this article by NomNomFoods!">
						Tweet</a>		 		 
					</td>
				</tr>
			</table>
		</div>
	</div>
-->


	<div class="author blue_theme centered_container">
		<table>
			<tr>
				<td>
					<img src="{{ post.author.picture.url  }}" height="180">
				</td><td>
					<h4>About the Author - {{ post.author.name }}</h4>
					<p> {{ post.author.biography }}</p>
				</td>
			</tr>
		</table>
	</div>	
	
</body>

	<script>
		$('#fb_circle').click(function(){ 
		  window.open("http://www.facebook.com/share.php?u=" + document.URL + "&title={{ post.title }}", 'newwindow', 'width=670, height=450');
		});
		$('#twitter_circle').click(function(){ 
		  window.open("http://twitter.com/home?status={{ post.title }}+" + document.URL, 'newwindow', 'width=670, height=450');
		});
		
		var imgs = document.getElementById("post").getElementsByTagName("img");
		for (var i = 0; i < imgs.length; i++) {
			console.log(imgs[0].width);
			var padding = (700 - imgs[i].width)/2;
			console.log(padding);
			imgs[i].style.padding = "10px " + padding + "px";
		}
		
		console.log();
		
		
		
//		if two imgs
		
		{% if post.image2 %}
		
		var width = $(window).width()/2;
		var pic1 = document.getElementById("pic1");
		var pic2 = document.getElementById("pic2");
		
		pic1.style.width = width + "px";
		pic2.style.width = width + "px";
		pic1.style.opacity = pic2.style.opacity = "1";
		
		
		console.log(pic1.height);
		console.log(pic2.height);
		
		if (pic1.height > pic2.height) {
			pic2.style.height = pic1.height + "px";
		} else if (pic1.height < pic2.height) {
			pic1.style.height = pic2.height + "px";
		}
		
		{% endif %}
		
//		if three imgs
			
		{% if post.image3 %}
		
		var width = $(window).width()/3;
		var pic1 = document.getElementById("pic1");
		var pic2 = document.getElementById("pic2");
		var pic3 = document.getElementById("pic3");
		
		pic1.style.width = pic2.style.width = pic3.style.width = width + "px";
		pic1.style.opacity = pic2.style.opacity = pic3.style.opacity = "1";
		
		if (pic1.height > pic2.height && pic1.height > pic3.height) {
			pic2.style.height  = pic3.style.height = pic1.height + "px";
		} else if (pic2.height > pic1.height && pic2.height > pic3.height) {
			pic1.style.height  = pic3.style.height = pic2.height + "px";
		} else if (pic3.height > pic2.height && pic3.height > pic1.height) {
			pic2.style.height  = pic1.style.height = pic3.height + "px";
		}
		
		{% endif %}
		
		
	</script>

	
</html>